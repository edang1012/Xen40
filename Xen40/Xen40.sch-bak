EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	2950 950  2950 1000
Wire Wire Line
	2850 1000 2850 950 
Wire Wire Line
	2850 950  2950 950 
$Comp
L power:GND #PWR?
U 1 1 5E6F5F90
P 2750 4750
F 0 "#PWR?" H 2750 4500 50  0001 C CNN
F 1 "GND" H 2755 4577 50  0001 C CNN
F 2 "" H 2750 4750 50  0001 C CNN
F 3 "" H 2750 4750 50  0001 C CNN
	1    2750 4750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 4600 2850 4650
Wire Wire Line
	2850 4650 2750 4650
Wire Wire Line
	2750 4650 2750 4600
Wire Wire Line
	2750 4750 2750 4650
Connection ~ 2750 4650
$Comp
L MCU_Microchip_ATmega:ATmega32U4-AU U?
U 1 1 5E6ECE45
P 2850 2800
F 0 "U?" H 2386 4562 50  0000 C CNN
F 1 "ATmega32U4-AU" H 3213 1019 50  0000 C CNN
F 2 "Package_QFP:TQFP-44_10x10mm_P0.8mm" H 2850 2800 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-7766-8-bit-AVR-ATmega16U4-32U4_Datasheet.pdf" H 2850 2800 50  0001 C CNN
	1    2850 2800
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR?
U 1 1 5E6F91FF
P 2750 850
F 0 "#PWR?" H 2750 700 50  0001 C CNN
F 1 "VBUS" H 2765 1023 50  0000 C CNN
F 2 "" H 2750 850 50  0001 C CNN
F 3 "" H 2750 850 50  0001 C CNN
	1    2750 850 
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small_US R?
U 1 1 5E6F9F94
P 3800 3400
F 0 "R?" V 3764 3263 50  0000 C CNN
F 1 "10k" V 3764 3538 50  0000 C CNN
F 2 "" H 3800 3400 50  0001 C CNN
F 3 "~" H 3800 3400 50  0001 C CNN
	1    3800 3400
	0    1    1    0   
$EndComp
Wire Wire Line
	3700 3400 3450 3400
$Comp
L power:GND #PWR?
U 1 1 5E6FB60A
P 4200 3450
F 0 "#PWR?" H 4200 3200 50  0001 C CNN
F 1 "GND" H 4205 3277 50  0001 C CNN
F 2 "" H 4200 3450 50  0001 C CNN
F 3 "" H 4200 3450 50  0001 C CNN
	1    4200 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 3400 4200 3400
Wire Wire Line
	4200 3400 4200 3450
$Comp
L Device:R_Small_US R?
U 1 1 5E6FE0D2
P 1800 2300
F 0 "R?" V 1764 2163 50  0000 C CNN
F 1 "22" V 1764 2438 50  0000 C CNN
F 2 "" H 1800 2300 50  0001 C CNN
F 3 "~" H 1800 2300 50  0001 C CNN
	1    1800 2300
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small_US R?
U 1 1 5E6FEAE0
P 1800 2400
F 0 "R?" V 1764 2263 50  0000 C CNN
F 1 "22" V 1764 2538 50  0000 C CNN
F 2 "" H 1800 2400 50  0001 C CNN
F 3 "~" H 1800 2400 50  0001 C CNN
	1    1800 2400
	0    1    1    0   
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E700F62
P 2150 2750
F 0 "C?" H 1985 2796 50  0000 L CNN
F 1 "1uF" H 1945 2705 50  0000 L CNN
F 2 "" H 2150 2750 50  0001 C CNN
F 3 "~" H 2150 2750 50  0001 C CNN
	1    2150 2750
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E704998
P 2150 2900
F 0 "#PWR?" H 2150 2650 50  0001 C CNN
F 1 "GND" H 2155 2727 50  0001 C CNN
F 2 "" H 2150 2900 50  0001 C CNN
F 3 "" H 2150 2900 50  0001 C CNN
	1    2150 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 2600 2150 2600
Wire Wire Line
	2150 2650 2150 2600
Wire Wire Line
	2150 2850 2150 2900
$Comp
L power:VBUS #PWR?
U 1 1 5E72C9F1
P 1900 2050
F 0 "#PWR?" H 1900 1900 50  0001 C CNN
F 1 "VBUS" H 1915 2223 50  0000 C CNN
F 2 "" H 1900 2050 50  0001 C CNN
F 3 "" H 1900 2050 50  0001 C CNN
	1    1900 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal_GND24_Small Y?
U 1 1 5E72E5DC
P 1800 1600
F 0 "Y?" V 1754 1744 50  0000 L CNN
F 1 "16MHz" V 1845 1744 50  0000 L CNN
F 2 "" H 1800 1600 50  0001 C CNN
F 3 "~" H 1800 1600 50  0001 C CNN
	1    1800 1600
	0    1    1    0   
$EndComp
Wire Wire Line
	2250 1700 1800 1700
Wire Wire Line
	1800 1500 2250 1500
$Comp
L power:GND #PWR?
U 1 1 5E733FEC
P 950 1700
F 0 "#PWR?" H 950 1450 50  0001 C CNN
F 1 "GND" H 955 1527 50  0001 C CNN
F 2 "" H 950 1700 50  0001 C CNN
F 3 "" H 950 1700 50  0001 C CNN
	1    950  1700
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E734737
P 1350 1500
F 0 "C?" V 1290 1340 50  0000 L CNN
F 1 "22pF" V 1290 1576 50  0000 L CNN
F 2 "" H 1350 1500 50  0001 C CNN
F 3 "~" H 1350 1500 50  0001 C CNN
	1    1350 1500
	0    1    1    0   
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E73C615
P 1350 1700
F 0 "C?" V 1290 1540 50  0000 L CNN
F 1 "22pF" V 1290 1776 50  0000 L CNN
F 2 "" H 1350 1700 50  0001 C CNN
F 3 "~" H 1350 1700 50  0001 C CNN
	1    1350 1700
	0    1    1    0   
$EndComp
Wire Wire Line
	1800 1700 1450 1700
Connection ~ 1800 1700
Wire Wire Line
	1800 1500 1450 1500
Connection ~ 1800 1500
Wire Wire Line
	1250 1500 1100 1500
Wire Wire Line
	1100 1500 1100 1700
Wire Wire Line
	1100 1700 1250 1700
Wire Wire Line
	1700 1600 1700 1800
Wire Wire Line
	1900 1600 1900 1800
Wire Wire Line
	1100 1700 1100 1800
Wire Wire Line
	1100 1800 1700 1800
Connection ~ 1100 1700
Connection ~ 1700 1800
Wire Wire Line
	1700 1800 1900 1800
Wire Wire Line
	1100 1500 950  1500
Wire Wire Line
	950  1500 950  1700
Connection ~ 1100 1500
Wire Wire Line
	1900 2050 1900 2100
Wire Wire Line
	1900 2100 2250 2100
$Comp
L Switch:SW_Push SW?
U 1 1 5E74F3C5
P 1700 1300
F 0 "SW?" H 1487 1380 50  0000 C CNN
F 1 "SW_Push" H 1700 1494 50  0001 C CNN
F 2 "" H 1700 1500 50  0001 C CNN
F 3 "~" H 1700 1500 50  0001 C CNN
	1    1700 1300
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small_US R?
U 1 1 5E74EA0A
P 2150 1100
F 0 "R?" H 2102 1146 50  0000 R CNN
F 1 "10k" H 2102 1055 50  0000 R CNN
F 2 "" H 2150 1100 50  0001 C CNN
F 3 "~" H 2150 1100 50  0001 C CNN
	1    2150 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 1200 2150 1300
Connection ~ 2150 1300
Wire Wire Line
	2150 1300 2250 1300
Wire Wire Line
	2150 1000 2150 900 
Wire Wire Line
	950  1300 950  1500
Connection ~ 950  1500
Text GLabel 1250 2300 0    50   Input ~ 0
D+
Text GLabel 1250 2400 0    50   Input ~ 0
D-
Wire Wire Line
	1900 2300 2250 2300
Wire Wire Line
	2250 2400 1900 2400
Wire Wire Line
	1700 2400 1250 2400
Wire Wire Line
	1250 2300 1700 2300
NoConn ~ 2250 1900
Wire Wire Line
	5750 6550 5750 6850
Wire Wire Line
	5250 6550 5250 6650
$Comp
L Battery_Management:MCP73831-2-OT U?
U 1 1 5E768357
P 5250 6950
F 0 "U?" H 4987 7225 50  0000 C CNN
F 1 "MCP73831-2-OT" H 5617 6674 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 5300 6700 50  0001 L CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/20001984g.pdf" H 5100 6900 50  0001 C CNN
	1    5250 6950
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR?
U 1 1 5E7D2648
P 5250 6550
F 0 "#PWR?" H 5250 6400 50  0001 C CNN
F 1 "VBUS" H 5265 6723 50  0000 C CNN
F 2 "" H 5250 6550 50  0001 C CNN
F 3 "" H 5250 6550 50  0001 C CNN
	1    5250 6550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 6850 6050 6850
$Comp
L power:GND #PWR?
U 1 1 5E7CF2AF
P 6250 6850
F 0 "#PWR?" H 6250 6600 50  0001 C CNN
F 1 "GND" H 6255 6677 50  0001 C CNN
F 2 "" H 6250 6850 50  0001 C CNN
F 3 "" H 6250 6850 50  0001 C CNN
	1    6250 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5750 6850 5850 6850
Connection ~ 5750 6850
Wire Wire Line
	5650 6850 5750 6850
$Comp
L Device:C_Small C?
U 1 1 5E7C78FA
P 5950 6850
F 0 "C?" V 5890 6690 50  0000 L CNN
F 1 "10uF" V 5890 6926 50  0000 L CNN
F 2 "" H 5950 6850 50  0001 C CNN
F 3 "~" H 5950 6850 50  0001 C CNN
	1    5950 6850
	0    1    1    0   
$EndComp
Wire Wire Line
	6650 7050 6450 7050
Wire Wire Line
	6650 7000 6650 7050
$Comp
L power:VBUS #PWR?
U 1 1 5E7C2F7D
P 6650 7000
F 0 "#PWR?" H 6650 6850 50  0001 C CNN
F 1 "VBUS" H 6665 7173 50  0000 C CNN
F 2 "" H 6650 7000 50  0001 C CNN
F 3 "" H 6650 7000 50  0001 C CNN
	1    6650 7000
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D?
U 1 1 5E7BB020
P 5900 7050
F 0 "D?" H 5760 7107 50  0000 C CNN
F 1 "LED" H 6036 7107 50  0000 C CNN
F 2 "" H 5900 7050 50  0001 C CNN
F 3 "~" H 5900 7050 50  0001 C CNN
	1    5900 7050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 7050 6050 7050
Wire Wire Line
	5650 7050 5750 7050
$Comp
L Device:R_Small_US R?
U 1 1 5E7BBC3F
P 6350 7050
F 0 "R?" V 6314 6913 50  0000 C CNN
F 1 "1k" V 6314 7188 50  0000 C CNN
F 2 "" H 6350 7050 50  0001 C CNN
F 3 "~" H 6350 7050 50  0001 C CNN
	1    6350 7050
	0    1    1    0   
$EndComp
$Comp
L power:+BATT #PWR?
U 1 1 5E7B9DBE
P 5750 6550
F 0 "#PWR?" H 5750 6400 50  0001 C CNN
F 1 "+BATT" H 5765 6723 50  0000 C CNN
F 2 "" H 5750 6550 50  0001 C CNN
F 3 "" H 5750 6550 50  0001 C CNN
	1    5750 6550
	1    0    0    -1  
$EndComp
Connection ~ 5250 7350
Wire Wire Line
	5250 7400 5250 7350
$Comp
L power:GND #PWR?
U 1 1 5E7B7144
P 5250 7400
F 0 "#PWR?" H 5250 7150 50  0001 C CNN
F 1 "GND" H 5255 7227 50  0001 C CNN
F 2 "" H 5250 7400 50  0001 C CNN
F 3 "" H 5250 7400 50  0001 C CNN
	1    5250 7400
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 7350 5250 7250
Wire Wire Line
	4750 7350 5250 7350
Wire Wire Line
	4750 7300 4750 7350
Wire Wire Line
	4750 7050 4750 7100
Wire Wire Line
	4850 7050 4750 7050
$Comp
L Device:R_Small_US R?
U 1 1 5E7AE9D9
P 4750 7200
F 0 "R?" H 4702 7246 50  0000 R CNN
F 1 "10k" H 4702 7155 50  0000 R CNN
F 2 "" H 4750 7200 50  0001 C CNN
F 3 "~" H 4750 7200 50  0001 C CNN
	1    4750 7200
	1    0    0    -1  
$EndComp
Connection ~ 3850 7050
Wire Wire Line
	3850 6950 3850 7050
Connection ~ 3850 7350
Wire Wire Line
	3850 7400 3850 7350
$Comp
L power:GND #PWR?
U 1 1 5E78E0D4
P 3850 7400
F 0 "#PWR?" H 3850 7150 50  0001 C CNN
F 1 "GND" H 3855 7227 50  0001 C CNN
F 2 "" H 3850 7400 50  0001 C CNN
F 3 "" H 3850 7400 50  0001 C CNN
	1    3850 7400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 7350 3450 7300
Wire Wire Line
	3850 7350 3450 7350
Wire Wire Line
	3850 7300 3850 7350
Connection ~ 3450 7050
Wire Wire Line
	3450 7050 3850 7050
Wire Wire Line
	3850 7100 3850 7050
$Comp
L Device:C_Small C?
U 1 1 5E7868F5
P 3850 7200
F 0 "C?" H 3925 7246 50  0000 L CNN
F 1 "1uF" H 3925 7155 50  0000 L CNN
F 2 "" H 3850 7200 50  0001 C CNN
F 3 "~" H 3850 7200 50  0001 C CNN
	1    3850 7200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 7050 3250 7050
Wire Wire Line
	3450 7100 3450 7050
NoConn ~ 3250 7150
$Comp
L Device:C_Small C?
U 1 1 5E780B84
P 3450 7200
F 0 "C?" H 3525 7246 50  0000 L CNN
F 1 "10uF" H 3525 7155 50  0000 L CNN
F 2 "" H 3450 7200 50  0001 C CNN
F 3 "~" H 3450 7200 50  0001 C CNN
	1    3450 7200
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5E77FAC9
P 3850 6950
F 0 "#PWR?" H 3850 6800 50  0001 C CNN
F 1 "+3.3V" H 3865 7123 50  0000 C CNN
F 2 "" H 3850 6950 50  0001 C CNN
F 3 "" H 3850 6950 50  0001 C CNN
	1    3850 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	900  6950 1150 6950
Wire Wire Line
	1150 6850 1150 6950
Wire Wire Line
	1150 6950 1150 7050
Connection ~ 1150 6950
Wire Wire Line
	900  6550 900  6950
Wire Wire Line
	1150 6550 1150 6650
$Comp
L power:+BATT #PWR?
U 1 1 5E775143
P 1150 6550
F 0 "#PWR?" H 1150 6400 50  0001 C CNN
F 1 "+BATT" H 1165 6723 50  0000 C CNN
F 2 "" H 1150 6550 50  0001 C CNN
F 3 "" H 1150 6550 50  0001 C CNN
	1    1150 6550
	1    0    0    -1  
$EndComp
$Comp
L Device:D_Schottky_Small D?
U 1 1 5E769BF4
P 1150 6750
F 0 "D?" V 1196 6682 50  0000 R CNN
F 1 "MBR120 (NEEDS FOOTPRINT & SYMBOL)" V 1105 6682 50  0000 R CNN
F 2 "" V 1150 6750 50  0001 C CNN
F 3 "~" V 1150 6750 50  0001 C CNN
	1    1150 6750
	0    -1   -1   0   
$EndComp
Connection ~ 1150 7350
Wire Wire Line
	1150 7400 1150 7350
$Comp
L power:GND #PWR?
U 1 1 5E72AA8E
P 1150 7400
F 0 "#PWR?" H 1150 7150 50  0001 C CNN
F 1 "GND" H 1155 7227 50  0001 C CNN
F 2 "" H 1150 7400 50  0001 C CNN
F 3 "" H 1150 7400 50  0001 C CNN
	1    1150 7400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2950 7450 2950 7500
$Comp
L power:GND #PWR?
U 1 1 5E72736B
P 2950 7500
F 0 "#PWR?" H 2950 7250 50  0001 C CNN
F 1 "GND" H 2955 7327 50  0001 C CNN
F 2 "" H 2950 7500 50  0001 C CNN
F 3 "" H 2950 7500 50  0001 C CNN
	1    2950 7500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 7050 2650 7050
Connection ~ 2600 7050
Wire Wire Line
	2600 7150 2600 7050
Wire Wire Line
	2650 7150 2600 7150
Connection ~ 2350 7050
Wire Wire Line
	2350 7050 2600 7050
Connection ~ 1150 7050
Wire Wire Line
	1550 7050 1950 7050
Connection ~ 1550 7050
Wire Wire Line
	1550 7100 1550 7050
Wire Wire Line
	1950 7050 2350 7050
Connection ~ 1950 7050
Wire Wire Line
	1950 7100 1950 7050
Wire Wire Line
	2350 7050 2350 7100
Wire Wire Line
	1150 7050 1550 7050
Wire Wire Line
	1150 7100 1150 7050
Wire Wire Line
	1550 7350 1950 7350
Connection ~ 1550 7350
Wire Wire Line
	1550 7300 1550 7350
Wire Wire Line
	1950 7350 2350 7350
Connection ~ 1950 7350
Wire Wire Line
	1950 7300 1950 7350
Wire Wire Line
	2350 7350 2350 7300
Wire Wire Line
	1150 7350 1550 7350
Wire Wire Line
	1150 7300 1150 7350
$Comp
L Device:C_Small C?
U 1 1 5E7177D1
P 1950 7200
F 0 "C?" H 1785 7246 50  0000 L CNN
F 1 "0.1uF" H 1659 7155 50  0000 L CNN
F 2 "" H 1950 7200 50  0001 C CNN
F 3 "~" H 1950 7200 50  0001 C CNN
	1    1950 7200
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E716D51
P 1550 7200
F 0 "C?" H 1385 7246 50  0000 L CNN
F 1 "0.1uF" H 1259 7155 50  0000 L CNN
F 2 "" H 1550 7200 50  0001 C CNN
F 3 "~" H 1550 7200 50  0001 C CNN
	1    1550 7200
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E70EA05
P 2350 7200
F 0 "C?" H 2185 7246 50  0000 L CNN
F 1 "10uF" H 2088 7155 50  0000 L CNN
F 2 "" H 2350 7200 50  0001 C CNN
F 3 "~" H 2350 7200 50  0001 C CNN
	1    2350 7200
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E70D4BA
P 1150 7200
F 0 "C?" H 985 7246 50  0000 L CNN
F 1 "0.1uF" H 859 7155 50  0000 L CNN
F 2 "" H 1150 7200 50  0001 C CNN
F 3 "~" H 1150 7200 50  0001 C CNN
	1    1150 7200
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR?
U 1 1 5E70C8D1
P 900 6550
F 0 "#PWR?" H 900 6400 50  0001 C CNN
F 1 "VBUS" H 915 6723 50  0000 C CNN
F 2 "" H 900 6550 50  0001 C CNN
F 3 "" H 900 6550 50  0001 C CNN
	1    900  6550
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:SPX3819M5-L-3-3 U?
U 1 1 5E70752E
P 2950 7150
F 0 "U?" H 2790 7479 50  0000 C CNN
F 1 "SPX3819M5-L-3-3" H 3121 7400 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 2950 7475 50  0001 C CNN
F 3 "https://www.exar.com/content/document.ashx?id=22106&languageid=1033&type=Datasheet&partnumber=SPX3819&filename=SPX3819.pdf&part=SPX3819" H 2950 7150 50  0001 C CNN
	1    2950 7150
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 5E88E456
P 2150 900
F 0 "#PWR?" H 2150 750 50  0001 C CNN
F 1 "+3.3V" H 2165 1073 50  0000 C CNN
F 2 "" H 2150 900 50  0001 C CNN
F 3 "" H 2150 900 50  0001 C CNN
	1    2150 900 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 850  2750 1000
$Comp
L power:+3.3V #PWR?
U 1 1 5E890509
P 3050 850
F 0 "#PWR?" H 3050 700 50  0001 C CNN
F 1 "+3.3V" H 3065 1023 50  0000 C CNN
F 2 "" H 3050 850 50  0001 C CNN
F 3 "" H 3050 850 50  0001 C CNN
	1    3050 850 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2950 950  3050 950 
Wire Wire Line
	3050 950  3050 850 
Connection ~ 2950 950 
Wire Wire Line
	1900 1300 2150 1300
Wire Wire Line
	1500 1300 950  1300
Wire Wire Line
	3450 3500 3550 3500
Text Label 3600 3600 0    50   ~ 0
BLE_IRQ
Text Label 3600 1700 0    50   ~ 0
BLE_CS
Wire Wire Line
	3450 2900 4200 2900
Wire Wire Line
	3450 1700 4200 1700
Wire Wire Line
	3450 1600 4200 1600
Wire Wire Line
	3450 1500 4200 1500
Wire Wire Line
	3450 1400 4200 1400
Wire Wire Line
	3550 3600 4200 3600
Wire Wire Line
	3550 3600 3550 3500
Text Notes 3300 950  0    50   ~ 0
Connect BLE_DFU to 0 ohm res\n
Text Label 3600 2900 0    50   ~ 0
BLE_SWDIO_RST
Text Label 3600 1600 0    50   ~ 0
BLE_MISO
Text Label 3600 1500 0    50   ~ 0
BLE_MOSI
Text Label 3600 1400 0    50   ~ 0
BLE_SCK
$EndSCHEMATC
